<p-table #dt [value]="allReaders" dataKey="id" [rowHover]="true" [paginator]="false" [filterDelay]="0"
    [globalFilterFields]="['name','browserName','os','device','ipAddress']">
    <ng-template pTemplate="caption">
        <div class="table-header flex justify-between">
            <p>
                List of Readers
            </p>
            <span class="p-input-icon-left">
                <input pInputText type="text" (input)="search($event,dt)" placeholder="Global Search" />
            </span>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="name" style="min-width: 14rem">
                <div class="flex justify-content-between align-items-center">
                    Name
                    <p-sortIcon field="name"></p-sortIcon>
                </div>
            </th>
            <th style="min-width: 14rem">
                <div class="flex justify-content-between align-items-center">
                    Ip
                </div>
            </th>
            <th pSortableColumn="browserName" style="min-width: 14rem">
                <div class="flex justify-content-between align-items-center">
                    Browser
                    <p-sortIcon field="browserName"></p-sortIcon>
                </div>
            </th>
            <!-- <th pSortableColumn="os" style="min-width: 14rem">
                <div class="flex justify-content-between align-items-center">
                    Os
                    <p-sortIcon field="os"></p-sortIcon>
                    <p-columnFilter type="text" field="os" display="menu" class="ml-auto"></p-columnFilter>
                </div>
            </th> -->
            <th pSortableColumn="device" style="min-width: 14rem">
                <div class="flex justify-content-between align-items-center">
                    Devicie
                    <p-sortIcon field="device"></p-sortIcon>
                </div>
            </th>
            <th style="min-width: 14rem">
                <div class="flex justify-content-between align-items-center">
                    Location
                </div>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-reader>
        <tr class="p-selectable-row">
            <td>
                <span class="p-column-title">Name</span>
                {{reader.name}}
            </td>
            <td>
                <span class="p-column-title">Ip address</span>
                {{reader.ipAddress}}
            </td>
            <td>
                <span class="p-column-title">Browser</span>
                {{reader.browserName}}
            </td>
            <!-- <td>
                <span class="p-column-title">Os</span>
                {{reader.os}}
            </td> -->
            <td>
                <span class="p-column-title">Device</span>
                <p class="flex gap-2 items-center">
                    <img class="w-[2rem]" [src]="'/assets/' + reader.os + '.png'" alt="">
                    <span>
                        {{reader.device == "undefined undefined" ?"Desktop":reader.device}}
                    </span>

                </p>
            </td>
            <td>
                <span class="p-column-title">Location</span>
                {{reader.location}}
            </td>
        </tr>
    </ng-template>

</p-table>

<p-paginator [showJumpToPageDropdown]="true" (onPageChange)="paginate($event)" [rows]="limit"
    [totalRecords]="totalElements"></p-paginator>